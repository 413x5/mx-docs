---
id: mxpy-cli
title: mxpy CLI cookbook
---

[comment]: # (mx-abstract)

## mxpy (Command Line Interface)

**mxpy**, as a command-line tool, can be used to simplify and automate the interaction with the MultiversX network - it can be easily used in shell scripts, as well. It implements a set of **commands**, organized within **groups**. 

The complete Command Line Interface is listed [**here**](https://github.com/multiversx/mx-sdk-py-cli/blob/main/CLI.md). Command usage and description are available through the `--help` or `-h` flags.

For example:

```
mxpy --help
mxpy tx --help
mxpy tx new --help
```

This page will guide you through the process of handling common tasks using **mxpy**.

## Upgrading mxpy

If you are using a older version of `mxpy` you can simply upgrade to a newer version by typing the following commands in a terminal:

```sh
wget -O mxpy-up.py https://raw.githubusercontent.com/multiversx/mx-sdk-py-cli/main/mxpy-up.py && python3 mxpy-up.py
```

This will recreate the light Python virtual environment (based on `venv`) in `~/multiversx-sdk/mxpy-venv`. 
Since you've had a previous `mxpy` version installed, you probably have already altered the **`$PATH`** variable so you don't have to re-alter it.

## Managing dependencies

Using `mxpy` you can either check if a dependency is installed or install a new dependency.

To check if a dependecy is installed you can use:
```sh
mxpy deps check <dependecy-name>
```

To install a new dependency you can use:
```sh
mxpy deps install <dependency-name>
```

Both `mxpy deps check <dependecy-name>` and `mxpy deps install <dependency-name>` use the `<dependency-name>` as a positional argument.

To find out which dependencies can be managed using `mxpy` you can type one of the following commands and you will see which positional arguments it accepts:
```sh
mxpy deps check -h
mxpy deps install -h
```

For example, in order to check if `rust` is installed you would type:
```sh
mxpy deps check rust
```

When installing dependecies the `--overwrite` argument can be used to overwrite an existing version. Also the `--tag` argument can be used to specify the exact version you want to install.

For example, to install `rust`, you can simply type the command:
```sh
mxpy deps install rust
```

If no tag is provided **the default version** will be installed.

:::note Default rust version
Generally speaking, the default `rust` version installed by `mxpy` is the one referenced by [the latest Docker image](https://github.com/multiversx/mx-sdk-rust-contract-builder/blob/main/Dockerfile) used for reproducible builds.
:::

Here's how to install a specific version of `rust` (example):
```sh
mxpy deps install rust --tag nightly-2023-04-24 --overwrite
```

## Building a smart contract

In order to deploy a smart contract on the network, you need to build it first.

The `mxpy` command used for building contracts is:
```sh
mxpy contract build
```

The command accepts a few parameters that you can check out [here](https://github.com/multiversx/mx-sdk-py-cli/blob/main/CLI.md#contractbuild) or by simply typing:
```sh
mxpy contract build --help
```

If you'd like to build a smart contract directly using `sc-meta` instead, please follow [this](/developers/developer-reference/sc-meta).

## Deploying a smart contract

After you've built your smart contract, it can be deployed on the network.

For deploying a smart contract the following command can be used:
```sh
mxpy contract deploy
```

To deploy a smart contract you have to send a transaction to the **Smart Contract Deploy Address** and that address is `erd1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gq4hu`, but you don't have to worry about setting the receiver of the transaction because the above command takes care of it.

The `--bytecode` argument specifies the path to your previously-built contract. If you've built the smart contract using `mxpy`, the generated `.wasm` file will be in a folder called `output`.

For example, if your contract is in `~/contracts/adder`, the generated bytecode file `adder.wasm` will be in `~/contracts/adder/output`. So, when providing the `--bytecode` argument the path should be `~/contracts/adder/output/adder.wasm`.

The `mxpy contract deploy` command needs a multitude of other parameters that can be checked out [here](https://github.com/multiversx/mx-sdk-py-cli/blob/main/CLI.md#contractdeploy) or by simply typing the following:
```sh
mxpy contract deploy --help
```

Let's see a simple example:

```sh
mxpy contract deploy --bytecode ~/contracts/adder/output/adder.wasm \
    --proxy=https://devnet-gateway.multiversx.com --recall-nonce \
    --arguments 42 --gas-limit 5000000 \
    --pem=~/multiversx-sdk/testwallets/latest/users/alice.pem \
    --send
```

## Verifying a smart contract

Verifying a smart contract means ensuring that the contract deployed on the network matches a specific version of the original source code. That is done by an external service that, under the hood, performs a reproducible build of the given contract and compares the resulting bytecode with the one deployed on the network.

To learn more about reproducible builds, please follow [**this page**](/developers/reproducible-contract-builds). If you'd like to set up a Github Workflow that performs a reproducible build of your smart contract, follow the examples in [**this repository**](https://github.com/multiversx/mx-reproducible-contract-build-example-sc).

The command used for verifying contracts is:
```sh
mxpy contract verify
```

Let's see an example:

```sh
export CONTRACT_ADDRESS="erd1qqqqqqqqqqqqqpgq6eynj8xra5v87qqzpjhc5fnzzh0fqqzld8ssqrez2g"

mxpy --verbose contract verify ${CONTRACT_ADDRESS} \
    --packaged-src=adder-0.0.0.source.json \
    --verifier-url="https://devnet-play-api.multiversx.com" \
    --docker-image="multiversx/sdk-rust-contract-builder:v5.1.0" \
    --pem=~/multiversx-sdk/testwallets/latest/users/alice.pem
```

:::info
The account that triggers the code verification process must the owner of the contract.
:::

:::info
The _packaged source_ passed as `--packaged-src` can be obtained either from [the Github Workflows for reproducible builds](https://github.com/multiversx/mx-reproducible-contract-build-example-sc/tree/main/.github/workflows) set up on your own repository, or from locally invoking a reproducible build, as depicted [here](https://docs.multiversx.com/developers/reproducible-contract-builds/#reproducible-build-using-mxpy).
:::

## Converting a wallet

As you may know, there are multiple ways in which you can store your secret keys.

To convert a wallet from a type to another you can use:
```sh
mxpy wallet convert
```

The available formats are:
 - `raw-mnemonic` - secret phrase in plain text
 - `keystore-mnemonic` - secret phrase, as a password-encrypted JSON keystore file
 - `keystore-secret-key` - secret key (irreversibly derived from the secret phrase), as a password-encrypted JSON keystore file
 - `pem` - secret key (irreversibly derived from the secret phrase), as a PEM file

:::info
Keep in mind that the conversion isn't always possible (due to irreversible derivations of the secret phrase):
 - `raw-mnemonic` can be converted to any other format
 - `keystore-mnemonic` can be converted to any other format
 - `keystore-secret-key` can only be converted to `pem`
 - `pem` can only be converted to `keystore-secret-key`

It's mandatory that you keep a backup of your secret phrase somewhere safe.
:::

For example, let's say you want to convert from _mnemonic_ to a _PEM_ file. We can do that by typing the following:
```sh
mxpy wallet convert --in-format raw-mnemonic --out-format pem --outfile key.pem
```

You will then be asked to enter the mnemonic. After typing the mnemonic press `Ctrl + D` for Linux/MacOS or `Ctrl + Z` for Windows.

We can also convert your mnemonic to a keystore file. That can be done by typing:
```sh
mxpy wallet convert --in-format raw-mnemonic --out-format keystore-mnemonic --outfile keystore.json
```

After inserting the mnemonic you will be asked to provide a password for the file. Insert the password then press enter. A file named `keystore.json` has been created.

The command arguments can be found [here](https://github.com/multiversx/mx-sdk-py-cli/blob/main/CLI.md#walletconvert) or by typing:
```sh
mxpy wallet convert --help
```
